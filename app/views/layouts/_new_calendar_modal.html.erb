<div class="modal fade" id="new-cal-modal" role="dialog">
<div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Create calendar</h4>
    </div>

    <div class="modal-body">
    <% @cal = current_user.calendars.new %>
    <%= form_for(@cal) do |f| %>
        <div class="form-group">
            <%= f.label :title, class: 'control-label col-sm-2 no-padding' %>
            <div class="col-sm-10 no-padding">
            <%= f.text_field :title, class: 'form-control' %>
            </div>
        </div>

        <div class="form-group">
            <%= f.label :color, class: 'control-label col-sm-2 no-padding' %>
            <% colors = ['#ffb3ba', '#ffdfba', '#ffffba', '#baffc9', '#bae1ff', '#e2b1cd', '#e16e79'] %>
            <select id="select-new-color" name="calendar[color]" value="#ffb3ba" class="form-control select-field">
                <% colors.each do |color| %>    
                    <option class="<%= color %>" value="<%= color %>" style="background-color:<%= color %>"></option>
                <% end %>
            </select>
        </div>

        <%= f.submit 'Create', class: "btn btn-info form-control" %>
    <% end %>
    </div>
    </div>
</div>
</div>
<script>
$("#select-new-color").change(function(){
    var color = $("option:selected", this).attr("class");
    $("#select-new-color").attr("style", "background-color: " + color);
});
</script>