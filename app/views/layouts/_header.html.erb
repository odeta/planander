<header class="navbar navbar-fixed-top">
  <div class="container-fluid">
    <% if logged_in? %>
      <button type="button" id="sidebarCollapse" class="menu-button">
        <i class="material-icons menu-icon">menu</i>
      </button>
      <button type="button" id="createCalendar" class="menu-button">
        <i class="material-icons menu-icon">note_add</i>
      </button>
    <% end %>
    <%= link_to "planander", root_path, id: "logo" %>

    <% if logged_in? %>

      <div class="btn-group btn-group-sm buttons" role="group">
        <button id="day" type="button" class="btn btn-default view-button" onclick="dayClick()">Day</button>
        <button id="week" type="button" class="btn btn-default view-button" onclick="weekClick()">Week</button>
        <button id="month" type="button" class="btn btn-default view-button" onclick="monthClick()">Month</button>
        <%#= button_to "Month", home_path, remote: true, class: "btn btn-default view-button", type: "button" %>
        <%#= button_to "Month", home_path, remote: true, class: "btn btn-default view-button", type: "button" %>
        <%#= button_to "Month", home_path, remote: true, class: "btn btn-default view-button", type: "button" %>
        <%#= button_to "Month", home_path, remote: true, class: "btn btn-default view-button", type: "button" %>

        <button id="year" type="button" class="btn btn-default view-button" onclick="yearClick()">Year</button>
      </div>

      <script>
          let buttons = ["day", "week", "month", "year"];
          function dayClick() { disableClickedButton(buttons[0]); }
          function weekClick() { disableClickedButton(buttons[1]); }
          function monthClick() { disableClickedButton(buttons[2]); document.cookie = "last_date="; }
          function yearClick() { disableClickedButton(buttons[3]); }
          function disableClickedButton(id) {
              buttons.forEach(function (element) {
                  document.getElementById(element).disabled = false;
              });
              document.getElementById(id).disabled = true;
          }
      </script>

      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle account" data-toggle="dropdown">
            Account <b class="caret"></b>
          </a>
          <ul class="dropdown-menu">
            <li><%= link_to "Edit profile", edit_user_path(current_user) %></li>
            <li class="divider"></li>
            <li>
              <%= link_to "Log out", logout_path, method: :delete %>
            </li>
          </ul>
        </li>
      </ul>

    <% end %>
  </div>
</header>
